<div class="flex flex-col md:flex-row w-full h-full gap-4" data-controller="image-preview">
  <div class="w-full h-full flex flex-col justify-end gap-8 items-center">
    <div class="w-full h-full bg-gray-100">
      <% if @book.photo.attached? %>
        <%= image_tag @book.photo, data: {image_preview_target: "preview"}, class: "w-full h-full object-contain" %>
      <% else %>
        <%= image_tag 'bookwheel_logo.png', data: {image_preview_target: "preview"}, class: "w-full h-full object-contain opacity-40" %>
      <% end %>    
    </div>

    <div class="mt-4 w-full h-full">
      <%= @form.label :photo, "Upload Photo", class: "block text-sm text-gray-700" %>
      <%= @form.file_field :photo, class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",
        direct_upload: true,
        data: { image_preview_target: 'input', action: "change->image-preview#preview"} %>
    </div>
  </div>

  <div class="w-full">


    <div class="mb-2">
      <label class="block text-sm text-gray-700">
        Title <span class="text-red-500">*</span>
      </label>
      <%= @form.text_field :title, required: true, class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
    </div>
    
    <div class="mb-2">
      <label class="block text-sm text-gray-700">
        Author <span class="text-red-500">*</span>
      </label>
      <%= @form.text_field :author, required: true, class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
    </div>
    
    <div class="mb-2">
      <%= @form.label :description, class: "block text-sm text-gray-700" %>
      <%= @form.text_area :description, maxlength: 250, class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
    </div>

    <div class="mb-2">
      <%= @form.label :category_id, class: "block text-sm text-gray-700" %>
      <%= @form.collection_select :category_id, Category.all, :id, :name, { prompt: 'Select a category' }, { class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" } %>
    </div>
    
    <div class="mb-2">
      <%= @form.label :language_id, class: "block text-sm text-gray-700" %>
      <%= @form.collection_select :language_id, Language.all, :id, :name, { prompt: 'Select a language', selected: Language.find_by(name: 'English').id }, { class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" } %>
    </div>

    <div class="mb-2">
      <%= @form.label :age_group_id, class: "block text-sm text-gray-700" %>
      <%= @form.collection_select :age_group_id, AgeGroup.all, :id, :name, { prompt: 'Select an age group' }, { class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" } %>
    </div>

    <div class="mb-2">
      <label class="block text-sm text-gray-700">
        Price <span class="text-red-500">*</span> <span class="text-gray-500">(AED)</span>
      </label>
      <%= @form.number_field :price, required: true, class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
    </div>
    
    <div class="mb-2">
      <%= @form.label :status, class: "block text-sm text-gray-700" %>
      <%= @form.select :status, [['Available', 'available'], ['Sold', 'sold'], ['Reserved', 'reserved']], { selected: 'available' }, { class: "mt-1 block w-full min-w-[18rem] border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" } %>
    </div>


  </div>


</div>