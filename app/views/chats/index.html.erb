<div class="container mx-auto py-8 px-4">
  <h1 class="text-3xl font-bold text-center mb-6">Chats</h1>
  <div class="grid grid-cols-1 gap-6 w-full">
    <% @chats.each do |chat| %>
      <%= link_to chat_path(chat), class: "chat" do %>
        <div class="bg-white shadow-lg rounded-lg overflow-hidden flex flex-col">
          <!-- Book Image -->
          <div class="relative">
            <%#= cl_image_tag chat.book.photo.key, alt: chat.book.title, class: "w-full h-48 object-cover" %>
          </div>

          <!-- Chat Info -->
          <div class="flex flex-col flex-grow p-4 justify-between">
            <div>
              <h2 class="text-sm font-semibold truncate mb-2">
                <%= chat.book_owner == current_user ? chat.buyer.first_name : chat.book_owner.first_name %> 
              </h2>
            </div>

            <div class="flex flex-grow justify-between">
              <p class="text-xs text-gray-600 truncate"><%= chat.buyer.first_name %></p>   
            </div>
   
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

